<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta name="google-site-verification" content="lk2gSYFP_NyLNFob-fFnt7fm-I_n1ZYws-WZll7mshg">
  <meta name="msvalidate.01" content="6Jdc01DjYOLguhS5">
  <meta name="baidu-site-verification" content="code-NR10G09zww">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7Ccursive:300,300italic,400,400italic,700,700italic%7CSource+Code+Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/yellow/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.fudenglong.site","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":800},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/local-search.xml","localsearch":{"enable":true,"top_n_per_article":10,"unescape":false,"preload":true,"trigger":"auto"}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/config.min.js"></script>

    <meta name="description" content="在Go语言中，为了控制低级别的 runtime 行为，官方提供了一些环境变量，主要有：  GOGC GODEBUG GOMAXPROCS GORACE GOTRACEBACK  初次之外，还有用于编译期的 GOROOT，GOPATH，GOOS 和 GOARCH，以及用于玩转SSA的 GOSSAFUNC。">
<meta property="og:type" content="article">
<meta property="og:title" content="【Golang】影响runtime行为的环境变量">
<meta property="og:url" content="https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/index.html">
<meta property="og:site_name" content="MichaelFu">
<meta property="og:description" content="在Go语言中，为了控制低级别的 runtime 行为，官方提供了一些环境变量，主要有：  GOGC GODEBUG GOMAXPROCS GORACE GOTRACEBACK  初次之外，还有用于编译期的 GOROOT，GOPATH，GOOS 和 GOARCH，以及用于玩转SSA的 GOSSAFUNC。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-02-23T08:17:56.000Z">
<meta property="article:modified_time" content="2022-02-23T08:17:56.000Z">
<meta property="article:author" content="MichaelFu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/","path":"2022/02/23/Go/【Golang】影响runtime行为的环境变量/","title":"【Golang】影响runtime行为的环境变量"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>【Golang】影响runtime行为的环境变量 | MichaelFu</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">MichaelFu</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">好记性不如烂笔头</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-云-&nbsp;&nbsp;原-&nbsp;&nbsp;生"><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/" rel="section"><i class="fa fa-cloud fa-fw"></i>云 &nbsp;&nbsp;原 &nbsp;&nbsp;生</a></li><li class="menu-item menu-item-rust-编程"><a href="/Programming-Rust/" rel="section"><i class="fa fa-cat fa-fw"></i>Rust 编程</a></li><li class="menu-item menu-item-go-&nbsp;&nbsp;&nbsp;编程"><a href="/Programming-Go/" rel="section"><i class="fa fa-hippo fa-fw"></i>Go &nbsp;&nbsp;&nbsp;编程</a></li><li class="menu-item menu-item-前端知识"><a href="https://wshuhua.github.io/" rel="section" target="_blank"><i class="fa fa-sun fa-fw"></i>前端知识</a></li><li class="menu-item menu-item-leetcode-rust"><a href="/Leetcode-Rust/" rel="section"><i class="fa fa-book fa-fw"></i>Leetcode-Rust</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#gogc"><span class="nav-number">1.</span> <span class="nav-text"> GOGC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#godebug"><span class="nav-number">2.</span> <span class="nav-text"> GODEBUG</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#allocfreetrace"><span class="nav-number">2.1.</span> <span class="nav-text"> allocfreetrace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#clobberfree"><span class="nav-number">2.2.</span> <span class="nav-text"> clobberfree</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cgocheck"><span class="nav-number">2.3.</span> <span class="nav-text"> cgocheck</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#efence"><span class="nav-number">2.4.</span> <span class="nav-text"> efence</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gccheckmark"><span class="nav-number">2.5.</span> <span class="nav-text"> gccheckmark</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gcpacertrace"><span class="nav-number">2.6.</span> <span class="nav-text"> gcpacertrace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gcshrinkstackoff"><span class="nav-number">2.7.</span> <span class="nav-text"> gcshrinkstackoff</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gcstoptheworld"><span class="nav-number">2.8.</span> <span class="nav-text"> gcstoptheworld</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gctrace"><span class="nav-number">2.9.</span> <span class="nav-text"> gctrace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#inittrace"><span class="nav-number">2.10.</span> <span class="nav-text"> inittrace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#madvdontneed"><span class="nav-number">2.11.</span> <span class="nav-text"> madvdontneed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#memprofilerate"><span class="nav-number">2.12.</span> <span class="nav-text"> memprofilerate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#invalidptr"><span class="nav-number">2.13.</span> <span class="nav-text"> invalidptr</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sbrk"><span class="nav-number">2.14.</span> <span class="nav-text"> sbrk</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#scavtrace"><span class="nav-number">2.15.</span> <span class="nav-text"> scavtrace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#scheddetail"><span class="nav-number">2.16.</span> <span class="nav-text"> scheddetail</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#tracebackancestors"><span class="nav-number">2.17.</span> <span class="nav-text"> tracebackancestors</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#asyncpreemptoff"><span class="nav-number">2.18.</span> <span class="nav-text"> asyncpreemptoff</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gomaxprocs"><span class="nav-number">3.</span> <span class="nav-text"> GOMAXPROCS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gorace"><span class="nav-number">4.</span> <span class="nav-text"> GORACE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gotraceback"><span class="nav-number">5.</span> <span class="nav-text"> GOTRACEBACK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E5%86%85%E5%AE%B9"><span class="nav-number">6.</span> <span class="nav-text"> 参考内容</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="MichaelFu"
      src="/avatar.jpeg">
  <p class="site-author-name" itemprop="name">MichaelFu</p>
  <div class="site-description" itemprop="description">实践能让记忆更深刻</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">84</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">126</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gamelife1314" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gamelife1314" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:michael.fudenglong@qq.com" title="E-Mail → mailto:michael.fudenglong@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://www.rust-lang.org/zh-CN/" title="https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;" rel="noopener" target="_blank">Rust</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://go.dev/" title="https:&#x2F;&#x2F;go.dev&#x2F;" rel="noopener" target="_blank">Golang</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.python.org/" title="https:&#x2F;&#x2F;www.python.org&#x2F;" rel="noopener" target="_blank">Python</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://doc.rust-lang.org/cargo/index.html" title="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;index.html" rel="noopener" target="_blank">Cargo</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://gist.github.com/rxaviers/7360908" title="https:&#x2F;&#x2F;gist.github.com&#x2F;rxaviers&#x2F;7360908" rel="noopener" target="_blank">Emoji</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpeg">
      <meta itemprop="name" content="MichaelFu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MichaelFu">
      <meta itemprop="description" content="实践能让记忆更深刻">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="【Golang】影响runtime行为的环境变量 | MichaelFu">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【Golang】影响runtime行为的环境变量
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-23 16:17:56" itemprop="dateCreated datePublished" datetime="2022-02-23T16:17:56+08:00">2022-02-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/golang/" itemprop="url" rel="index"><span itemprop="name">golang</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>在Go语言中，为了控制低级别的 <code>runtime</code> 行为，官方提供了一些环境变量，主要有：</p>
<ul>
<li><code>GOGC</code></li>
<li><code>GODEBUG</code></li>
<li><code>GOMAXPROCS</code></li>
<li><code>GORACE</code></li>
<li><code>GOTRACEBACK</code></li>
</ul>
<p>初次之外，还有用于编译期的 <code>GOROOT</code>，<code>GOPATH</code>，<code>GOOS</code> 和 <code>GOARCH</code>，以及用于玩转SSA的 <code>GOSSAFUNC</code>。</p>
<span id="more"></span>
<p>在 <code>src/runtime/extern.go</code> 文件中详细描述了这些环境变量的背景和意义。在调度器初始化阶段，解析环境变量并且把他们放进全局变量 <code>envs</code> 中。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The bootstrap sequence is:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	call osinit</span></span><br><span class="line"><span class="comment">//	call schedinit</span></span><br><span class="line"><span class="comment">//	make &amp; queue new G</span></span><br><span class="line"><span class="comment">//	call runtime·mstart</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The new G calls runtime·main.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">schedinit</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    goenvs()</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="gogc"><a class="markdownIt-Anchor" href="#gogc"></a> GOGC</h3>
<p><code>GOGC</code> 用于控制GC的触发频率，默认值是：<code>100</code>，意思是直到上次垃圾回收堆内存上涨 <code>100%</code> 时触发 <code>GC</code>。如果设置 <code>GOGC=off</code>将彻底关闭 <code>GC</code>。在运行时可以通过 <a target="_blank" rel="noopener" href="https://pkg.go.dev/runtime/debug#SetGCPercent"><code>debug.SetGCPercent</code></a> 进行动态调整。</p>
<h3 id="godebug"><a class="markdownIt-Anchor" href="#godebug"></a> GODEBUG</h3>
<p><code>GODEBUG</code> 用于控制运行时中的调试参数，形式上是 <code>,</code> 分割的键值对，例如：</p>
<blockquote>
<p>GODEBUG=‘gctrace=1,inittrace=1’ go run main.go</p>
</blockquote>
<p>在调度系统初始化的时候，首先解析环境变量，然后解析调试参数：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The bootstrap sequence is:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	call osinit</span></span><br><span class="line"><span class="comment">//	call schedinit</span></span><br><span class="line"><span class="comment">//	make &amp; queue new G</span></span><br><span class="line"><span class="comment">//	call runtime·mstart</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The new G calls runtime·main.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">schedinit</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    goenvs()</span><br><span class="line">    parsedebugvars()</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调试参数解析结束之后，都保存在全局变量 <code>dbgvars</code> 中：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/runtime/runtime1.go</span></span><br><span class="line"><span class="keyword">var</span> dbgvars = []dbgVar&#123;</span><br><span class="line">	&#123;<span class="string">&quot;allocfreetrace&quot;</span>, &amp;debug.allocfreetrace&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;clobberfree&quot;</span>, &amp;debug.clobberfree&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;cgocheck&quot;</span>, &amp;debug.cgocheck&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;efence&quot;</span>, &amp;debug.efence&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;gccheckmark&quot;</span>, &amp;debug.gccheckmark&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;gcpacertrace&quot;</span>, &amp;debug.gcpacertrace&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;gcshrinkstackoff&quot;</span>, &amp;debug.gcshrinkstackoff&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;gcstoptheworld&quot;</span>, &amp;debug.gcstoptheworld&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;gctrace&quot;</span>, &amp;debug.gctrace&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;invalidptr&quot;</span>, &amp;debug.invalidptr&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;madvdontneed&quot;</span>, &amp;debug.madvdontneed&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;sbrk&quot;</span>, &amp;debug.sbrk&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;scavtrace&quot;</span>, &amp;debug.scavtrace&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;scheddetail&quot;</span>, &amp;debug.scheddetail&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;schedtrace&quot;</span>, &amp;debug.schedtrace&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;tracebackancestors&quot;</span>, &amp;debug.tracebackancestors&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;asyncpreemptoff&quot;</span>, &amp;debug.asyncpreemptoff&#125;,</span><br><span class="line">	&#123;<span class="string">&quot;inittrace&quot;</span>, &amp;debug.inittrace&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="allocfreetrace"><a class="markdownIt-Anchor" href="#allocfreetrace"></a> allocfreetrace</h4>
<p><code>allocfreetrace=1</code> 会对于每次的内存分配都会进行概要分析，并且在分配内存和释放时打印调用栈。</p>
<h4 id="clobberfree"><a class="markdownIt-Anchor" href="#clobberfree"></a> clobberfree</h4>
<p><code>clobberfree=1</code> 会使垃圾回收期在释放对象，破坏持有非法内容对象的内存。</p>
<h4 id="cgocheck"><a class="markdownIt-Anchor" href="#cgocheck"></a> cgocheck</h4>
<p>设置 <code>cgocheck=0</code> 会禁用对错误传递Go指针到非Go代码的检查。<code>cgocheck=1</code>（默认值）会开启相对简单的检查，这可能导致一些错误被忽略。<code>cgocheck=2</code>会采取相对严格的校验规则，会导致程序运行较慢，但是不会遗漏错误。</p>
<h4 id="efence"><a class="markdownIt-Anchor" href="#efence"></a> efence</h4>
<p>设置 <code>efence=1</code> 会让内存分配器在分配内存时将每个对象分配在唯一的内存页上，并且这个地址永远不会被回收。</p>
<h4 id="gccheckmark"><a class="markdownIt-Anchor" href="#gccheckmark"></a> gccheckmark</h4>
<p>setting gccheckmark=1 enables verification of the garbage collector’s concurrent mark phase by performing a second mark pass while the world is stopped.  If the second pass finds a reachable object that was not found by concurrent mark, the garbage collector will panic.</p>
<h4 id="gcpacertrace"><a class="markdownIt-Anchor" href="#gcpacertrace"></a> gcpacertrace</h4>
<p>设置 <code>gcpacertrace=1</code> 会使垃圾回收器打印并发 pacer 的内部状态信息。</p>
<h4 id="gcshrinkstackoff"><a class="markdownIt-Anchor" href="#gcshrinkstackoff"></a> gcshrinkstackoff</h4>
<p>设置 <code>gcshrinkstackoff=1</code> 进制 <code>goroutine</code> 缩栈，这种模式下，<code>goroutine</code> 的栈只能增长。</p>
<h4 id="gcstoptheworld"><a class="markdownIt-Anchor" href="#gcstoptheworld"></a> gcstoptheworld</h4>
<p>设置 <code>gcstoptheworld=1</code> 将禁用并发 <code>GC</code>，这样每次垃圾回收都会 <code>STW</code>。<code>gcstoptheworld=2</code> 处禁用并发收集之外还会禁用后续的并发清扫。</p>
<h4 id="gctrace"><a class="markdownIt-Anchor" href="#gctrace"></a> gctrace</h4>
<p>设置 <code>gctrace=1</code> 会在每次 <code>GC</code> 时，向标准错误输出一行信息，包括收集的总量，停顿的时长等。输出的格式可能会变，目前的格式如下：</p>
<blockquote>
<p>gc # @#s #%: #+#+# ms clock, #+#/#/#+# ms cpu, #-&gt;#-&gt;# MB, # MB goal, # P</p>
</blockquote>
<p>每个字段的解释如下：</p>
<ul>
<li><code>gc</code>：gc 的次数，随着每次垃圾回收自增；</li>
<li><code>@#s</code>：程序的运行时间，单位是秒；</li>
<li><code>#%</code>：从程序运行开始到当前 <code>GC</code>，花费在 <code>GC</code>上的时间占比；</li>
<li><code>#+#+# ms clock</code>： <code>GC</code> 各个阶段占用的时间；，</li>
<li><code>#+#/#/#+# ms cpu</code>：垃圾回收占用的CPU时间；</li>
<li><code>#-&gt;#-&gt;# MB</code>：分别表示  <code>GC</code> 开始，结束以及当前的堆内存大小；</li>
<li><code># MB goal</code>：当堆内存达到这个值时，触发下次  <code>GC</code>；</li>
<li><code># P</code>：<code>P</code> 的个数；</li>
</ul>
<p>例如查看下面程序的  <code>GC</code> 信息：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data []<span class="type">byte</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data = <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line">	fmt.Println(data)</span><br><span class="line">	time.Sleep(<span class="number">3</span> * time.Minute)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@b89af2baca14:/WORKDIR/gostudy/hello# GODEBUG=&#x27;gctrace=1&#x27; go run main.go</span><br><span class="line">gc 1 @0.015s 1%: 0.074+2.1+0.041 ms clock, 0.29+0.14/0.13/0+0.16 ms cpu, 4-&gt;5-&gt;1 MB, 5 MB goal, 4 P</span><br><span class="line">gc 2 @0.024s 1%: 0.012+1.0+0.002 ms clock, 0.050+0.10/0.13/0.24+0.010 ms cpu, 4-&gt;4-&gt;0 MB, 5 MB goal, 4 P</span><br><span class="line">gc 3 @0.033s 1%: 0.017+1.8+0.004 ms clock, 0.070+0.29/0/0+0.018 ms cpu, 4-&gt;4-&gt;0 MB, 5 MB goal, 4 P</span><br><span class="line">gc 4 @0.041s 1%: 0.022+0.44+0.001 ms clock, 0.088+0.10/0.25/0.007+0.007 ms cpu, 4-&gt;4-&gt;0 MB, 5 MB goal, 4 P</span><br><span class="line">gc 5 @0.049s 1%: 0.023+2.1+0.001 ms clock, 0.093+0.037/0.76/0.036+0.006 ms cpu, 4-&gt;4-&gt;0 MB, 5 MB goal, 4 P</span><br><span class="line">gc 6 @0.055s 1%: 0.017+0.53+0.28 ms clock, 0.068+0.060/0.29/0.37+1.1 ms cpu, 4-&gt;4-&gt;1 MB, 5 MB goal, 4 P</span><br><span class="line">gc 7 @0.058s 2%: 0.12+0.38+0.001 ms clock, 0.49+0.10/0.24/0.17+0.004 ms cpu, 4-&gt;4-&gt;1 MB, 5 MB goal, 4 P</span><br><span class="line">gc 8 @0.060s 2%: 0.044+0.52+0.001 ms clock, 0.17+0.096/0.28/0.090+0.004 ms cpu, 4-&gt;4-&gt;1 MB, 5 MB goal, 4 P</span><br><span class="line">gc 9 @0.065s 2%: 0.074+0.29+0.002 ms clock, 0.29+0.096/0.16/0.23+0.009 ms cpu, 4-&gt;4-&gt;0 MB, 5 MB goal, 4 P</span><br><span class="line"># command-line-arguments</span><br><span class="line">gc 1 @0.005s 2%: 0.007+0.86+0.010 ms clock, 0.030+0.068/0.42/0.88+0.043 ms cpu, 4-&gt;5-&gt;4 MB, 5 MB goal, 4 P</span><br><span class="line"># command-line-arguments</span><br><span class="line">gc 1 @0.001s 17%: 0.14+0.68+0.11 ms clock, 0.57+0.044/0.49/0.35+0.45 ms cpu, 4-&gt;5-&gt;5 MB, 5 MB goal, 4 P</span><br><span class="line">gc 2 @0.003s 11%: 0.002+1.5+0.094 ms clock, 0.011+0.068/0.65/0.75+0.37 ms cpu, 9-&gt;9-&gt;8 MB, 10 MB goal, 4 P</span><br><span class="line">[]</span><br><span class="line">GC forced</span><br><span class="line">gc 10 @120.397s 0%: 0.028+0.49+0.002 ms clock, 0.11+0/0.29/0.27+0.009 ms cpu, 3-&gt;3-&gt;0 MB, 4 MB goal, 4 P</span><br><span class="line">root@b89af2baca14:/WORKDIR/gostudy/hello#</span><br></pre></td></tr></table></figure>
<h4 id="inittrace"><a class="markdownIt-Anchor" href="#inittrace"></a> inittrace</h4>
<p>设置 <code>inittrace=1</code> 会让 <code>runtime</code> 打印每个 <code>package</code> 初始化工作的信息，包括执行时间和内存申请信息。对于没有用户定义和编译器生成的初始化工作的包，作为插件加载时，不会有任何信息打印。信息格式目前如下：</p>
<blockquote>
<p>init # @#ms, # ms clock, # bytes, # allocs</p>
</blockquote>
<p>每个字段的意义如下：</p>
<ul>
<li><code>init #</code>：包名；</li>
<li><code>@# ms</code>：从程序开始启动到init执行时的时间，单位是毫秒；</li>
<li><code># clock</code>：包初始化工作耗时；</li>
<li><code>bytes</code>：申请的堆内存大小；</li>
<li><code>allocs</code>：内存申请次数；</li>
</ul>
<h4 id="madvdontneed"><a class="markdownIt-Anchor" href="#madvdontneed"></a> madvdontneed</h4>
<p>设置 <code>madvdontneed=0</code> 在linux系统，归还内存给操作系统时使用 <code>MADV_FREE</code> 而不是 <code>MADV_DONTNEED</code>，这很高效，但是同时意味着 <code>RSS</code> 数量只会在系统压力较小时下降。</p>
<h4 id="memprofilerate"><a class="markdownIt-Anchor" href="#memprofilerate"></a> memprofilerate</h4>
<p>设置 <code>memprofilerate=X</code> 会更新 <a target="_blank" rel="noopener" href="https://pkg.go.dev/runtime#pkg-variables"><code>runtime.MemProfileRate</code></a> 的值，设置位0时，禁用内存分析功能。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemProfileRate controls the fraction of memory allocations</span></span><br><span class="line"><span class="comment">// that are recorded and reported in the memory profile.</span></span><br><span class="line"><span class="comment">// The profiler aims to sample an average of</span></span><br><span class="line"><span class="comment">// one allocation per MemProfileRate bytes allocated.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// To include every allocated block in the profile, set MemProfileRate to 1.</span></span><br><span class="line"><span class="comment">// To turn off profiling entirely, set MemProfileRate to 0.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The tools that process the memory profiles assume that the</span></span><br><span class="line"><span class="comment">// profile rate is constant across the lifetime of the program</span></span><br><span class="line"><span class="comment">// and equal to the current value. Programs that change the</span></span><br><span class="line"><span class="comment">// memory profiling rate should do so just once, as early as</span></span><br><span class="line"><span class="comment">// possible in the execution of the program (for example,</span></span><br><span class="line"><span class="comment">// at the beginning of main).</span></span><br><span class="line"><span class="keyword">var</span> MemProfileRate <span class="type">int</span> = defaultMemProfileRate(<span class="number">512</span> * <span class="number">1024</span>)</span><br></pre></td></tr></table></figure>
<h4 id="invalidptr"><a class="markdownIt-Anchor" href="#invalidptr"></a> invalidptr</h4>
<p>设置 <code>invalidptr=1</code>（默认）会使垃圾回收和栈赋值在遇到无效指针是，让程序奔溃。<code>nvalidptr=0</code> 会禁用该检查，这应该仅仅用于临时的代码debug。</p>
<h4 id="sbrk"><a class="markdownIt-Anchor" href="#sbrk"></a> sbrk</h4>
<p>设置 <code>sbrk=1</code> 会使用普通的内存申请器，这会直接从操作系统申请内存并且永不释放。</p>
<h4 id="scavtrace"><a class="markdownIt-Anchor" href="#scavtrace"></a> scavtrace</h4>
<p>设置 <code>scavtrace=1</code> 会让运行时系统在每次  <code>GC</code> 周期打印还给操作系统的内存总量和预估物理内存利用量。目前的格式如下：</p>
<blockquote>
<p>scav # # KiB work, # KiB total, #% util</p>
</blockquote>
<ul>
<li><code>scav #</code>：清扫周期；</li>
<li><code>KiB work</code>：从上次到当前，归还给操作的内存总量；</li>
<li><code>KiB total</code>：归还给操作系统的内存总量；</li>
<li><code>#% util</code>：正在使用的所有未清理内存的比例；</li>
</ul>
<p>如果该行信息以 <code>(forced)</code> 结束，那说明调用了 <a target="_blank" rel="noopener" href="https://pkg.go.dev/runtime/debug#FreeOSMemory"><code>debug.FreeOSMemory()</code></a>。</p>
<h4 id="scheddetail"><a class="markdownIt-Anchor" href="#scheddetail"></a> scheddetail</h4>
<p>设置 <code>schedtrace=X</code> 和 <code>scheddetail=1</code> 会让调度器每隔 <code>X ms</code> 打印调度器，处理器，线程和goroutine的状态。</p>
<h4 id="tracebackancestors"><a class="markdownIt-Anchor" href="#tracebackancestors"></a> tracebackancestors</h4>
<p>setting tracebackancestors=N extends tracebacks with the stacks at which goroutines were created, where N limits the number of ancestor goroutines to report. This also extends the information returned by runtime.Stack. Ancestor’s goroutine IDs will refer to the ID of the goroutine at the time of creation; it’s possible for this ID to be reused for another goroutine. Setting N to 0 will report no ancestry information.</p>
<h4 id="asyncpreemptoff"><a class="markdownIt-Anchor" href="#asyncpreemptoff"></a> asyncpreemptoff</h4>
<p>设置 <code>asyncpreemptoff=1</code> 会禁用基于信号的异步goroutine抢占。这会使一些循环不可抢占，这可能会延迟  <code>GC</code> 以及 <code>goroutine</code> 调度。这对于调试  <code>GC</code> 问题很有用，因为他禁用了用于异步 <code>goroutine</code> 抢占的保守栈扫描。</p>
<h3 id="gomaxprocs"><a class="markdownIt-Anchor" href="#gomaxprocs"></a> GOMAXPROCS</h3>
<p><code>GOMAXPROCS</code> 限制用于同时执行用户代码的线程数量，Go语言中没有限制阻塞在系统调用的线程的数量，这些线程不计入 <code>GOMAXPROCS</code> 的限制。<a target="_blank" rel="noopener" href="https://pkg.go.dev/runtime#GOMAXPROCS">runtime.GOMAXPROCS</a> 可以在运行时对此进行修改，一般情况下和系统的逻辑CPU数量相同。</p>
<h3 id="gorace"><a class="markdownIt-Anchor" href="#gorace"></a> GORACE</h3>
<p>该环境变量用于配置数据竞争检测器，在程序构建时可以使用 <code>-race</code> 标记，<a target="_blank" rel="noopener" href="https://go.dev/doc/articles/race_detector">https://go.dev/doc/articles/race_detector</a> 这里有详细描述。</p>
<h3 id="gotraceback"><a class="markdownIt-Anchor" href="#gotraceback"></a> GOTRACEBACK</h3>
<p><code>GOTRACEBACK</code> 变量控制当 <code>Go</code> 程序由于未恢复的恐慌或意外的运行时条件而失败时生成的信息。默认情况下，失败打印当前 <code>goroutine</code> 的堆栈跟踪，省略运行时系统内部的函数，然后以退出代码 <code>2</code> 退出。如果没有当前 goroutine 或者是运行时内部失败，会打印所有 <code>goroutine</code> 信息。</p>
<ul>
<li><code>GOTRACEBACK=none</code> 省略整个 <code>goroutine</code> 栈；</li>
<li><code>GOTRACEBACK=single (默认)</code> 和上面描述的一样；</li>
<li><code>GOTRACEBACK=all</code> 相比之前的会增加所有用户创建的 <code>goroutine</code> 栈；</li>
<li><code>GOTRACEBACK=system</code> 在 <code>all</code> 的基础之上，会增加运行时函数的栈帧，并且显示内部创建的 <code>gorotuine</code>；</li>
<li><code>GOTRACEBACK=crash</code> 和 <code>system</code> 类似， 但以特定于操作系统的方式崩溃而不是退出。例如，在 <code>Unix</code> 系统上，崩溃会引发 <code>SIGABRT</code> 以触发核心转储；</li>
</ul>
<h3 id="参考内容"><a class="markdownIt-Anchor" href="#参考内容"></a> 参考内容</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingchenxuanfeng/article/details/73549506">wall-clock time and cpu time</a></li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpeg" alt="MichaelFu 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.jpeg" alt="MichaelFu 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>MichaelFu
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" title="【Golang】影响runtime行为的环境变量">https://blog.fudenglong.site/2022/02/23/Go/【Golang】影响runtime行为的环境变量/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/02/16/%E3%80%90Linux%E3%80%91%E5%8F%AF%E6%89%A7%E8%A1%8C%E5%92%8C%E5%8F%AF%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F-ELF/" rel="prev" title="【Linux】可执行和可链接文件格式--ELF">
                  <i class="fa fa-angle-left"></i> 【Linux】可执行和可链接文件格式--ELF
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/03/01/Go/%E3%80%90Golang%E3%80%91%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" rel="next" title="【Golang】汇编语言">
                  【Golang】汇编语言 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">辽ICP备15012817号-2 </a>
  </div>
  <div class="copyright">
    &copy; 2020 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">MichaelFu</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">1.4m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">21:31</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/gamelife1314" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/comments.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/motion.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/sidebar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/next-boot.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/bookmark.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/pjax.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/search/local-search.min.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.0/pdfobject.min.js"},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/tags/pdf.min.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":"dark","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js"}}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/tags/mermaid.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/fancybox.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/pace.min.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":false,"delay":true,"timeout":5000,"priority":true,"url":"https://blog.fudenglong.site/2022/02/23/Go/%E3%80%90Golang%E3%80%91%E5%BD%B1%E5%93%8Druntime%E8%A1%8C%E4%B8%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"}</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/quicklink.min.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"gamelife1314/gamelife1314.github.io","issue_term":"title","theme":"github-light"}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/comments/utterances.min.js"></script>

</body>
</html>
